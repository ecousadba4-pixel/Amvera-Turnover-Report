<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Выручка</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="centered">
    <div class="dashboard">
      <div class="form-header">
        <h1>Выручка</h1>
        <div class="header-actions">
          <span class="period-pill" id="presetLabel">Текущий месяц</span>
          <button class="link-button" id="resetBtn" type="button">Сбросить</button>
        </div>
      </div>

      <div class="card filter-card">
        <div class="section-title">Фильтр по дате создания</div>

        <div class="presetbar">
          <button class="preset-button is-active" id="btnCur" type="button">Текущий месяц</button>
          <button class="preset-button" id="btnPrev" type="button">Прошлый месяц</button>
          <button class="preset-button" id="btnWknd" type="button">Последние выходные</button>
        </div>

        <div class="form-grid two-column">
          <div class="form-group">
            <label for="from">От</label>
            <input type="date" id="from" class="form-input" />
          </div>
          <div class="form-group">
            <label for="to">До</label>
            <input type="date" id="to" class="form-input" />
          </div>
        </div>
        <div class="help-text">Отчёт строится по дате создания бронирования (<code>created_at</code>).</div>
      </div>

      <div class="info-summary">
        <div class="summary-card">
          <div class="summary-label">Выручка всего</div>
          <div class="summary-value" id="revenue">—</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Средний чек</div>
          <div class="summary-value" id="avg">—</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Кол-во номеров</div>
          <div class="summary-value" id="count">—</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Повторные клиенты</div>
          <div class="summary-value" id="share">—</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Мин. чек</div>
          <div class="summary-value" id="min">—</div>
        </div>
        <div class="summary-card">
          <div class="summary-label">Макс. чек</div>
          <div class="summary-value" id="max">—</div>
        </div>
      </div>

      <div class="card system-card" id="sysHint">
        <div class="label">Источник даты: <span class="value" id="usedField"></span></div>
      </div>
    </div>
  </div>

  <div class="overlay" id="gate">
    <div class="modal">
      <h2>Доступ по паролю</h2>
      <p class="modal-text">Введите пароль, чтобы открыть показатели выручки.</p>
      <div>
        <input type="password" id="pwd" placeholder="Пароль" />
      </div>
      <div class="err" id="err"></div>
      <div class="footer">
        <button id="goBtn" type="button">Войти</button>
      </div>
    </div>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
